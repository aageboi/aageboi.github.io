(this["webpackJsonpfurniture-app"]=this["webpackJsonpfurniture-app"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(6),c=n.n(u),l=(n(14),n(1)),i=n(7),o=(n(15),function(e){var t=e.style;return a.a.createElement("div",{className:"card",style:t},e.children)}),s=(n(16),function(){return a.a.createElement("div",{className:"lds-ring"},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))}),f=n(8),m={loading:!1,error:null,data:null},d=function(e,t){switch(t.type){case"SEND":return{loading:!0,error:null,data:null};case"RESPONSE":return Object(f.a)({},e,{loading:!1,data:t.responseData});case"ERROR":return{loading:!1,error:t.errorMessage};case"CLEAR":return m;default:throw new Error("Should not be reached!")}},p=function(){var e=Object(r.useReducer)(d,m),t=Object(l.a)(e,2),n=t[0],a=t[1],u=Object(r.useCallback)((function(){return a({type:"CLEAR"})}),[]),c=Object(r.useCallback)((function(e,t,n){a({type:"SEND"}),fetch(e,{method:t,body:n,headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a({type:"RESPONSE",responseData:e})})).catch((function(e){a({type:"ERROR",errorMessage:"Something went wrong!"})}))}),[]);return{isLoading:n.loading,data:n.data,error:n.error,sendRequest:c,clear:u}},E=n(4),v=(n(17),a.a.memo((function(e){var t=e.onLoadingFurnitures,n=e.onFilterFurnitures,u=Object(r.useState)(""),c=Object(l.a)(u,2),f=c[0],m=c[1],d=Object(r.useState)([]),v=Object(l.a)(d,2),b=v[0],h=v[1],y=Object(r.useState)([]),O=Object(l.a)(y,2),j=O[0],g=O[1],S=Object(r.useState)([]),R=Object(l.a)(S,2),w=R[0],k=R[1],N=Object(r.useRef)(),C=Object(r.useRef)(),_=Object(r.useRef)(),L=p(),F=L.sendRequest,M=L.isLoading,T=L.error,D=L.data,x=[{name:"1 Week",value:7},{name:"2 Weeks",value:14},{name:"1 Months",value:30},{name:"All",value:1/0}],A=b.map((function(e){return{name:e}}));Object(r.useEffect)((function(){var e=setTimeout((function(){if(D&&f===N.current.value){var e=D.products;j.length>0&&(e=j),w.length>0&&(e=e.filter((function(e){return e.delivery_time<=Math.max.apply(Math,Object(i.a)(w))}))),""!==N.current.value&&(e=e.filter((function(e){return e.name.toLowerCase().includes(f.toLowerCase())}))),n(e)}}),500);return function(){clearTimeout(e)}}),[f,N,D,j,w,n]);var I=Object(r.useCallback)((function(e){if(D){var t=D.products;if(e.length>0){var n=e.map((function(e){return e.name})),r=new Set(n),a=t.filter((function(e){return e.furniture_style.some((function(e){return r.has(e)}))}));g(a)}else g([])}}),[D]),q=Object(r.useCallback)((function(e){if(D)if(e.length>0){var t=e.map((function(e){return e.value}));k(t)}else k([])}),[D]);return Object(r.useEffect)((function(){F("http://www.mocky.io/v2/5c9105cb330000112b649af8","GET")}),[F]),Object(r.useEffect)((function(){if(!M&&!T&&D){var e=[];for(var n in D.products)e.push({id:n,name:D.products[n].name,delivery_time:D.products[n].delivery_time,description:D.products[n].description.substring(0,114)+"...",furniture_style:D.products[n].furniture_style,price:D.products[n].price.toLocaleString("id-ID")});t(e),h(D.furniture_styles)}}),[D,M,T,t]),a.a.createElement("section",{className:"furniture-form"},a.a.createElement(o,null,a.a.createElement("div",{className:"form-control"},a.a.createElement("input",{ref:N,type:"text",value:f,placeholder:"Search Furniture",onChange:function(e){m(e.target.value)}})),a.a.createElement("div",{className:"furniture-form__select"},a.a.createElement(E.Multiselect,{ref:C,options:A,showCheckbox:!0,displayValue:"name",onSelect:I,onRemove:I,placeholder:"Furniture Style"}),a.a.createElement(E.Multiselect,{ref:_,options:x,showCheckbox:!0,displayValue:"name",onSelect:q,onRemove:q,placeholder:"Delivery Time"})),M&&a.a.createElement(s,null)))}))),b=(n(18),function(e){return a.a.createElement("section",{className:"furniture-list"},a.a.createElement("ul",null,e.furnitures.map((function(e){return a.a.createElement("li",{key:e.name},a.a.createElement("div",{className:"furniture-title"},a.a.createElement("h2",null,e.name),a.a.createElement("div",{className:"furniture-price"},"Rp. ",e.price.toLocaleString("id-ID"))),a.a.createElement("span",null,e.description.substring(0,114)+"..."),a.a.createElement("div",{className:"furniture-styles"},e.furniture_style.map((function(e){return a.a.createElement("strong",{key:e},e)}))),a.a.createElement("div",{className:"furniture-time"},e.delivery_time," days delivery"))}))))}),h=function(e,t){switch(t.type){case"SET":return t.furnitures;default:throw new Error("Should not get there!")}},y=function(){var e=Object(r.useReducer)(h,[]),t=Object(l.a)(e,2),n=t[0],u=t[1],c=Object(r.useCallback)((function(e){u({type:"SET",furnitures:e})}),[]),i=Object(r.useCallback)((function(e){u({type:"SET",furnitures:e})}),[]),o=Object(r.useMemo)((function(){return a.a.createElement(b,{furnitures:n})}),[n]);return a.a.createElement("div",{className:"App"},a.a.createElement(v,{onLoadingFurnitures:c,onFilterFurnitures:i}),a.a.createElement("section",null,o))},O=function(e){return a.a.createElement(y,null)};c.a.render(a.a.createElement(O,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.3ea824bc.chunk.js.map